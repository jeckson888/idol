# 🎵 我的偶像日记 - 启动说明

## 🚀 快速开始

### 1. 启动网站
```bash
# 在项目目录下运行
python -m http.server 8000
```

### 2. 打开浏览器
访问：`http://localhost:8000`

### 3. 快速登录
- 点击预设用户卡片即可快速登录
- 用户名：`demo_user` 密码：`123456`
- 用户名：`fan_user` 密码：`123456`

## 🎵 音乐控制功能

### 背景音乐
- 网站加载时音乐不会自动播放（符合浏览器政策）
- 点击右上角音乐控制按钮播放/暂停音乐
- **新增功能：音乐控制器可以拖拽移动！**

### 音乐控制器拖拽
- 🖱️ **鼠标拖拽**：点击音乐控制器空白区域并拖拽到任意位置
- 📱 **触摸拖拽**：在移动设备上触摸并拖拽音乐控制器
- 💾 **位置记忆**：拖拽后的位置会自动保存，下次访问时保持相同位置
- 🎯 **边界限制**：控制器不会拖拽出屏幕范围
- ⚡ **智能识别**：点击音乐按钮不会触发拖拽，只有点击空白区域才会拖拽

## 🌟 第三方服务集成

### 🎨 优美背景设计
- **动态背景图片**：使用Unsplash高质量图片作为背景
- **粒子效果**：动态粒子动画增强视觉效果
- **毛玻璃效果**：现代化毛玻璃设计风格
- **渐变叠加**：多层渐变效果营造深度感

### 🌤️ 天气服务
- **实时天气**：显示当前位置的实时天气信息
- **位置定位**：自动获取用户地理位置
- **天气组件**：可拖拽的天气信息卡片
- **自动更新**：定期更新天气数据

### 🗺️ 地图服务
- **百度地图集成**：支持地图功能（需要API密钥）
- **位置标记**：在地图上标记偶像相关地点
- **路线规划**：规划前往偶像活动的路线

### 📸 图片服务
- **Unsplash图片**：获取高质量背景图片
- **图片搜索**：搜索偶像相关图片
- **自动切换**：背景图片自动切换功能

### 🎭 动画效果
- **Anime.js动画库**：流畅的页面切换动画
- **粒子动画**：交互式粒子效果
- **悬停效果**：卡片悬停动画
- **加载动画**：页面加载动画

### 📱 懒加载
- **图片懒加载**：提升页面加载速度
- **内容延迟加载**：优化性能体验

## ⚙️ 设置页面

### 访问设置
- 直接访问：`http://localhost:8000/settings.html`
- 或在主页面添加设置入口

### 设置功能
- **API配置**：配置第三方服务API密钥
- **界面设置**：自定义界面效果和动画
- **天气设置**：配置天气组件位置和更新频率
- **音乐设置**：调整音乐播放参数
- **数据设置**：配置数据存储和备份

### API密钥获取
1. **和风天气API**：访问 https://dev.qweather.com/ 注册获取
2. **百度地图API**：访问 https://lbsyun.baidu.com/ 注册获取
3. **Unsplash API**：访问 https://unsplash.com/developers 注册获取

## 📱 主要功能

### 导航栏功能
- **首页**：欢迎界面、统计数据、最近动态预览
- **动态**：发布文字、图片、视频、音乐动态
- **相册**：查看所有上传的图片，支持网格/列表视图
- **时间线**：按时间顺序查看所有动态
- **个人资料**：编辑个人信息，更换头像

### 动态发布
- 支持文字内容
- 支持图片上传（点击预览）
- 支持视频上传
- 支持音乐上传
- 实时预览上传的媒体文件

### 相册功能
- 自动收集所有上传的图片
- 网格视图和列表视图切换
- 点击图片可放大查看

## 🔧 故障排除

### 登录问题
如果遇到登录问题，请尝试以下步骤：

1. **清除浏览器数据**
   - 打开浏览器开发者工具（F12）
   - 进入 Application/Storage 标签
   - 清除 Local Storage 数据

2. **使用测试页面**
   - 打开 `test.html` 文件
   - 点击"初始化数据"按钮
   - 测试登录功能

3. **检查控制台**
   - 按 F12 打开开发者工具
   - 查看 Console 标签中的错误信息

### 音乐播放问题
- 确保浏览器允许自动播放
- 点击音乐控制按钮手动播放
- 检查音乐文件是否存在

### 头像显示问题
- 确保 `img/icon.jpg` 文件存在
- 刷新页面重新加载

### 音乐控制器拖拽问题
- 确保点击的是控制器空白区域，不是音乐按钮
- 在移动设备上使用触摸拖拽
- 如果拖拽不工作，刷新页面重试

### 第三方服务问题
- **天气服务**：检查网络连接和API密钥
- **地图服务**：确保百度地图API密钥有效
- **图片服务**：检查Unsplash API密钥配置
- **粒子效果**：确保网络连接正常加载CDN资源

## 🧪 测试页面
如果遇到问题，可以使用 `test.html` 页面进行功能测试：
- 测试数据初始化
- 测试用户登录
- 查看用户数据

## 💡 使用技巧

### 音乐控制器
- 可以拖拽到屏幕任意位置
- 位置会自动保存
- 点击音乐按钮播放/暂停，点击空白区域拖拽

### 动态发布
- 支持多种媒体文件同时上传
- 可以预览和删除已选择的文件
- 动态发布后会在所有相关页面同步显示

### 相册浏览
- 网格视图适合快速浏览
- 列表视图适合查看详细信息
- 点击图片可放大查看

### 第三方服务
- **天气组件**：可拖拽到任意位置
- **背景图片**：支持自动切换和手动更换
- **粒子效果**：鼠标悬停和点击有交互效果
- **动画效果**：页面切换和元素悬停有动画

### 设置管理
- **配置导出**：可以导出当前配置到JSON文件
- **配置导入**：可以导入之前保存的配置
- **API测试**：在设置页面可以测试API连接状态
- **重置设置**：可以一键恢复默认配置

## 🔒 隐私和安全

### 数据存储
- 所有数据存储在浏览器本地
- 不会上传到任何服务器
- 清除浏览器数据会导致数据丢失

### API使用
- API密钥仅存储在本地
- 不会发送到第三方服务器
- 可以随时禁用第三方服务

### 位置信息
- 位置信息仅用于天气服务
- 不会存储或分享位置数据
- 可以手动关闭位置权限

**享受记录偶像美好瞬间的时光！** ✨
